# üìù UniPost - Sistema Inteligente de Gera√ß√£o de Posts com IA

Sistema avan√ßado para gera√ß√£o autom√°tica de posts para redes sociais utilizando Intelig√™ncia Artificial, com interface moderna em Streamlit, autentica√ß√£o segura, sistema de busca sem√¢ntica e cache inteligente.

## üöÄ Caracter√≠sticas Principais

- **ü§ñ Gera√ß√£o Inteligente de Posts**: IA avan√ßada com OpenAI GPT para m√∫ltiplas plataformas sociais
- **üîç Busca Sem√¢ntica**: ElasticSearch para encontrar conte√∫dos relacionados automaticamente
- **üß† Vetoriza√ß√£o com SentenceTransformers**: An√°lise sem√¢ntica profunda dos textos
- **‚ö° Cache Redis**: Sistema de cache inteligente para otimiza√ß√£o de performance
- **üîê Autentica√ß√£o JWT**: Login seguro integrado com API Django
- **üìä Dashboard Analytics**: M√©tricas detalhadas, gr√°ficos interativos e insights autom√°ticos
- **üéØ Sistema de Aprova√ß√£o**: Workflow completo para gerenciar posts gerados
- **‚ùì Sistema de Ajuda**: Manual interativo integrado na sidebar da aplica√ß√£o
- **üåê Multi-Plataforma**: Suporte para Facebook, Instagram, TikTok e LinkedIn
- **üîß Configura√ß√µes Avan√ßadas**: Personaliza√ß√£o completa da experi√™ncia do usu√°rio

## üèóÔ∏è Arquitetura do Sistema

```
UniPost/
‚îú‚îÄ‚îÄ app.py                          # üöÄ Ponto de entrada principal
‚îú‚îÄ‚îÄ api/                           # üîó Integra√ß√£o com API Django
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ login.py                   # Sistema de autentica√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ token.py                   # Gerenciamento de JWT tokens
‚îú‚îÄ‚îÄ home/                          # üè† P√°gina inicial e navega√ß√£o
‚îÇ   ‚îî‚îÄ‚îÄ main.py                    # Menu principal com sistema de ajuda
‚îú‚îÄ‚îÄ dashboard/                     # üìä Analytics e m√©tricas
‚îÇ   ‚îî‚îÄ‚îÄ main.py                    # Dashboard com gr√°ficos interativos
‚îú‚îÄ‚îÄ texts/                         # ü§ñ Gera√ß√£o e gerenciamento de textos
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py                    # Interface principal de gera√ß√£o IA
‚îÇ   ‚îî‚îÄ‚îÄ request.py                 # Requisi√ß√µes para API
‚îú‚îÄ‚îÄ services/                      # ‚öôÔ∏è Servi√ßos core do sistema
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ elasticsearch_service.py   # Busca sem√¢ntica avan√ßada
‚îÇ   ‚îú‚îÄ‚îÄ redis_service.py           # Cache inteligente de vetores
‚îÇ   ‚îî‚îÄ‚îÄ text_generation_service.py # IA e vetoriza√ß√£o
‚îú‚îÄ‚îÄ dictionary/                    # üìö Configura√ß√µes e dados
‚îÇ   ‚îî‚îÄ‚îÄ vars.py                    # Constantes, plataformas e manual de ajuda
‚îú‚îÄ‚îÄ references/                    # üîß Utilit√°rios e fun√ß√µes auxiliares
‚îÇ   ‚îî‚îÄ‚îÄ functions.py
‚îú‚îÄ‚îÄ style/                         # üé® Estilos e temas visuais
‚îÇ   ‚îî‚îÄ‚îÄ custom.css                 # CSS customizado
‚îú‚îÄ‚îÄ .streamlit/                    # ‚öôÔ∏è Configura√ß√µes do Streamlit
‚îú‚îÄ‚îÄ venv/                          # üêç Ambiente virtual Python
‚îú‚îÄ‚îÄ docs/                          # üìñ Documenta√ß√£o do projeto
‚îÇ   ‚îú‚îÄ‚îÄ build.md
‚îÇ   ‚îú‚îÄ‚îÄ errors.md
‚îÇ   ‚îú‚îÄ‚îÄ instructions.md
‚îÇ   ‚îî‚îÄ‚îÄ upgrade.md
‚îú‚îÄ‚îÄ docker-compose.yml             # üê≥ Orquestra√ß√£o de containers
‚îú‚îÄ‚îÄ Dockerfile                     # üê≥ Container da aplica√ß√£o
‚îî‚îÄ‚îÄ requirements.txt               # üì¶ Depend√™ncias Python
```

## üõ†Ô∏è Stack Tecnol√≥gico

### üé® Frontend & Interface
- **Streamlit 1.49.1**: Interface web moderna e responsiva
- **CSS Customizado**: Temas claro/escuro com design profissional
- **Plotly**: Gr√°ficos interativos no dashboard (Express & Graph Objects)
- **st.dialog**: Sistema de di√°logos modais para ajuda integrada

### ü§ñ Intelig√™ncia Artificial & Machine Learning
- **OpenAI GPT-4o-mini**: Gera√ß√£o de texto com qualidade profissional
- **SentenceTransformers (all-MiniLM-L6-v2)**: Vetoriza√ß√£o sem√¢ntica de textos
- **HuggingFace Transformers**: Pipeline completo de processamento de linguagem natural
- **NumPy & SciPy**: Opera√ß√µes matem√°ticas para similaridade de vetores

### üîç Busca & Cache
- **Elasticsearch 9.1.0**: Busca sem√¢ntica avan√ßada e indexa√ß√£o de conte√∫do
- **Redis 7-alpine**: Cache inteligente de vetores com expira√ß√£o autom√°tica
- **Similaridade Coseno**: Algoritmo para encontrar conte√∫dos relacionados

### üîê Backend & API
- **Django API (externa)**: Autentica√ß√£o, CRUD e gerenciamento de dados
- **JWT (PyJWT 2.8.0)**: Tokens seguros para autentica√ß√£o stateless
- **Requests**: Cliente HTTP para integra√ß√£o com APIs externas

### üê≥ DevOps & Containeriza√ß√£o
- **Docker & Docker Compose**: Orquestra√ß√£o de containers
- **Redis Commander**: Interface web para monitoramento do cache
- **Health Checks**: Monitoramento autom√°tico dos servi√ßos

### üîß Desenvolvimento & Qualidade
- **MyPy 1.17.1**: Type checking est√°tico
- **Flake8 7.3.0**: Linting e verifica√ß√£o de c√≥digo
- **Autopep8 2.3.2**: Formata√ß√£o autom√°tica seguindo PEP 8
- **Python-dotenv**: Gerenciamento de vari√°veis de ambiente

## üìã Pr√©-requisitos

- Docker >= 20.0
- Docker Compose >= 2.0
- Python 3.11+ (para desenvolvimento local)
- API Django configurada e acess√≠vel
- Chave da API OpenAI (opcional)

## üöÄ Instala√ß√£o e Execu√ß√£o

### 1. Clone o Reposit√≥rio

```bash
git clone <repository-url>
cd UniPost
```

### 2. Configure as Vari√°veis de Ambiente

```bash
cp .env.example .env
```

Edite o arquivo `.env` com suas configura√ß√µes:

```bash
# Django API Configuration
DJANGO_API_URL=http://localhost:8005

# OpenAI Configuration (opcional)
OPENAI_API_KEY=your_openai_api_key

# Elasticsearch Configuration (opcional)
ES_HOST=https://your-elasticsearch-host:9200
ES_USER=elastic
ES_PASS=your_elasticsearch_password

# Redis Configuration
REDIS_URL=redis://redis:6379/0
```

### 3. Execute com Docker Compose

```bash
# Construir e executar todos os servi√ßos
docker compose up --build -d

# Ou usar o comando de reconstru√ß√£o completa
docker compose down -v && docker compose up --build -d
```

### 4. Acesse a Aplica√ß√£o

- **Aplica√ß√£o Principal**: http://localhost:8555
- **Redis Commander**: http://localhost:8081

## üì± Funcionalidades Detalhadas

### üîê Sistema de Autentica√ß√£o Segura
- **Login JWT**: Autentica√ß√£o via tokens seguros da API Django
- **Sess√£o Persistente**: Mantenha-se logado durante todo o uso
- **Controle de Permiss√µes**: Acesso diferenciado baseado em roles
- **Logout Seguro**: Limpeza completa de dados da sess√£o
- **Valida√ß√£o em Tempo Real**: Verifica√ß√£o cont√≠nua do token

### üìä Dashboard Analytics Avan√ßado
- **M√©tricas Principais**: Total de posts, taxa de aprova√ß√£o, distribui√ß√£o por plataforma
- **Gr√°ficos Interativos**: Pizza, barras e linha temporal com Plotly
- **Insights Autom√°ticos**: An√°lises inteligentes dos padr√µes de conte√∫do
- **Resumo Detalhado**: Tabelas com estat√≠sticas por plataforma e per√≠odo
- **Restri√ß√µes de Acesso**: Interface adaptada conforme permiss√µes do usu√°rio

### ü§ñ Gera√ß√£o Inteligente de Conte√∫do
#### Fluxo Completo de IA:
1. **Busca Autom√°tica**: ElasticSearch encontra conte√∫dos relacionados
2. **Vetoriza√ß√£o Sem√¢ntica**: SentenceTransformers analisa significado dos textos
3. **Cache Inteligente**: Redis armazena vetores para performance otimizada
4. **Similaridade Contextual**: Algoritmo coseno identifica refer√™ncias relevantes
5. **Gera√ß√£o via LLM**: OpenAI GPT cria conte√∫do baseado no contexto
6. **Salvamento Autom√°tico**: Post registrado na API com metadata completo

#### Configura√ß√µes Avan√ßadas:
- **Plataformas**: Facebook, Instagram, TikTok, LinkedIn com otimiza√ß√£o espec√≠fica
- **Tom de Linguagem**: 8 op√ß√µes (informal, formal, educativo, t√©cnico, etc.)
- **N√≠vel de Criatividade**: 6 n√≠veis de originalidade
- **Tamanho Customiz√°vel**: Curto, m√©dio ou longo
- **Hashtags Inteligentes**: Inclus√£o autom√°tica de tags relevantes
- **Call-to-Action**: Chamadas para a√ß√£o personalizadas

### üìö Biblioteca de Posts Avan√ßada
- **Filtros M√∫ltiplos**: Status, palavra-chave, data e plataforma
- **Cards Informativos**: Preview completo com metadata
- **Sistema de Aprova√ß√£o**: Workflow completo (aprovar/reprovar/regenerar)
- **Status Visual**: C√≥digos de cores e √≠cones intuitivos
- **Pagina√ß√£o Inteligente**: Navega√ß√£o otimizada para grandes volumes
- **Busca Sem√¢ntica**: Encontre posts por contexto, n√£o apenas palavras exatas

### ‚ùì Sistema de Ajuda Integrado
- **Dialog Modal**: Interface elegante sem sair da aplica√ß√£o
- **Manual Interativo**: 10 se√ß√µes detalhadas de funcionalidades
- **Instru√ß√µes Contextuais**: Dicas espec√≠ficas para cada ferramenta
- **Acesso R√°pido**: Bot√£o na sidebar sempre dispon√≠vel
- **Conte√∫do Atualizado**: Documenta√ß√£o sincronizada com features

### ‚öôÔ∏è Configura√ß√µes e Personaliza√ß√£o
- **Temas Visuais**: Modo claro/escuro com CSS otimizado
- **Prefer√™ncias de Interface**: Auto-refresh, timeout, itens por p√°gina
- **Debug Mode**: Logs detalhados para troubleshooting
- **Gerenciamento de Cache**: Limpeza e monitoramento do Redis
- **Exporta√ß√£o de Configura√ß√µes**: Backup das prefer√™ncias do usu√°rio

## üè† Estrutura das P√°ginas

### P√°gina Inicial (`home/main.py`)
- **Menu Principal**: Navega√ß√£o intuitiva entre Dashboard e Gera√ß√£o de Conte√∫do
- **Painel do Usu√°rio**: Informa√ß√µes de login e permiss√µes
- **‚ùì Sistema de Ajuda**: Bot√£o integrado na sidebar com manual interativo
- **Logout Seguro**: Encerramento de sess√£o com limpeza de dados

### Dashboard Analytics (`dashboard/main.py`)
- **M√©tricas Principais**: Total, aprovados, pendentes e plataformas
- **Gr√°ficos Plotly**: Pizza (status), barras (plataformas) e timeline (evolu√ß√£o)
- **Insights Autom√°ticos**: An√°lises inteligentes dos padr√µes
- **Restri√ß√µes**: Interface adaptada para superusu√°rios e permiss√µes
- **Tabelas Resumo**: Estat√≠sticas detalhadas por plataforma e per√≠odo

### Gera√ß√£o de Posts (`texts/main.py`)
- **Interface Dual**: Par√¢metros (esquerda) e resultado (direita)
- **Formul√°rio Inteligente**: Tema, plataforma, tom, criatividade
- **Processo IA Transparente**: Barra de progresso com etapas detalhadas
- **A√ß√µes Completas**: Aprovar, reprovar, regenerar, copiar, limpar
- **Modo Regenera√ß√£o**: Carregamento autom√°tico de dados de posts existentes

### Biblioteca de Posts (`texts/main.py` - m√©todo render)
- **Cards Informativos**: Layout elegante com preview e metadata
- **Filtros Avan√ßados**: Status, palavra-chave com busca em tempo real
- **Sistema de A√ß√µes**: Bot√µes contextuais para cada post
- **Pagina√ß√£o**: Exibi√ß√£o otimizada para grandes volumes
- **Cores Sem√¢nticas**: Verde (aprovado), amarelo (pendente)

## üîß Configura√ß√£o de Desenvolvimento

## ‚ùì Sistema de Ajuda Integrado

### Implementa√ß√£o do Manual Interativo

O UniPost agora inclui um sistema de ajuda completo integrado na sidebar:

#### Localiza√ß√£o: `home/main.py` 
```python
@st.dialog("‚ùì Manual de Uso - UniPost")
def show_help_dialog(self):
    # Dialog modal elegante com st.selectbox para navegar entre t√≥picos
```

#### Configura√ß√£o: `dictionary/vars.py`
```python
HELP_MENU = {
    "üè† P√°gina Inicial": "...",      # Instru√ß√µes da tela inicial
    "üìä Dashboard": "...",            # Como usar analytics
    "ü§ñ Gera√ß√£o de Conte√∫do": "...", # Manual da IA
    "üìö Biblioteca de Posts": "...",  # Gerenciamento de posts
    "üîê Sistema de Login": "...",     # Autentica√ß√£o e permiss√µes
    "‚öôÔ∏è Configura√ß√µes Avan√ßadas": "...", # Personaliza√ß√£o
    "üß† Intelig√™ncia Artificial": "...", # Como funciona a IA
    "üîç Busca e Filtros": "...",     # Sistema de busca
    "üìà M√©tricas e Analytics": "...", # Interpreta√ß√£o de dados
}
```

#### Caracter√≠sticas:
- **Acesso Imediato**: Bot√£o `‚ùì Ajuda` sempre vis√≠vel na sidebar
- **Dialog Modal**: Interface elegante sem sair da aplica√ß√£o
- **10 Se√ß√µes Detalhadas**: Cobertura completa de todas as funcionalidades
- **Navega√ß√£o Intuitiva**: st.selectbox para alternar entre t√≥picos
- **Conte√∫do Rico**: Instru√ß√µes detalhadas com dicas pr√°ticas
- **Design Responsivo**: Interface adaptada para diferentes dispositivos

### Estrutura de Servi√ßos

```python
# Principais servi√ßos implementados
services/
‚îú‚îÄ‚îÄ elasticsearch_service.py    # Busca sem√¢ntica com multi_match queries
‚îú‚îÄ‚îÄ redis_service.py            # Cache inteligente com hash MD5 e TTL
‚îú‚îÄ‚îÄ text_generation_service.py  # Pipeline IA: vetoriza√ß√£o ‚Üí similaridade ‚Üí LLM
‚îî‚îÄ‚îÄ __init__.py

# Fluxo de dados dos servi√ßos
1. ElasticSearch ‚Üí busca conte√∫dos relacionados
2. SentenceTransformers ‚Üí vetoriza√ß√£o sem√¢ntica  
3. Redis ‚Üí cache de vetores processados
4. OpenAI GPT ‚Üí gera√ß√£o contextualizada
5. Django API ‚Üí persist√™ncia e CRUD
```

### Componentes Principais

```python
# Arquitetura modular implementada
api/
‚îú‚îÄ‚îÄ login.py          # AuthenticationService integrado
‚îú‚îÄ‚îÄ token.py          # JWTManager com valida√ß√£o cont√≠nua
‚îî‚îÄ‚îÄ __init__.py

home/
‚îî‚îÄ‚îÄ main.py           # HomePage com HelpSystem integrado

dashboard/
‚îî‚îÄ‚îÄ main.py           # Dashboard com Plotly analytics

texts/
‚îú‚îÄ‚îÄ main.py           # TextGenerator com IA pipeline
‚îú‚îÄ‚îÄ request.py        # APIClient para CRUD operations
‚îî‚îÄ‚îÄ __init__.py

dictionary/
‚îî‚îÄ‚îÄ vars.py           # Constants, PLATFORMS, HELP_MENU
```

## üìä Monitoramento

### Logs e Debugging
```bash
# Ver logs dos containers
docker compose logs -f unipost-streamlit
docker compose logs -f unipost-redis

# Monitorar Redis
docker compose logs -f unipost-redis-commander
```

### M√©tricas e Status
- Dashboard com status em tempo real
- Health checks autom√°ticos dos containers
- Monitoramento de cache e sess√µes
- Interface Redis Commander para debugging

## üîí Seguran√ßa

- Credenciais seguras via vari√°veis de ambiente
- Autentica√ß√£o JWT com expira√ß√£o autom√°tica
- Valida√ß√£o de entrada em todos os formul√°rios
- Sanitiza√ß√£o de conte√∫do gerado
- Execu√ß√£o em container n√£o-root
- Health checks para monitoramento

## üöÄ Deployment

### Produ√ß√£o
```bash
# Executar em produ√ß√£o
docker compose up -d

# Monitorar logs
docker compose logs -f
```

### Execu√ß√£o Local (Desenvolvimento)
```bash
# Ativar ambiente virtual
source venv/bin/activate

# Instalar depend√™ncias
pip install -r requirements.txt

# Executar aplica√ß√£o
streamlit run app.py --server.port=8555
```

## ü§ù Contribui√ß√£o

1. Fork o projeto
2. Crie uma branch para sua feature (`git checkout -b feature/AmazingFeature`)
3. Commit suas mudan√ßas (`git commit -m 'Add some AmazingFeature'`)
4. Push para a branch (`git push origin feature/AmazingFeature`)
5. Abra um Pull Request

## üìù Padr√µes de C√≥digo

- **Arquitetura**: Clean Code com separa√ß√£o de responsabilidades
- **Documenta√ß√£o**: Docstrings detalhados em portugu√™s
- **Nomenclatura**: PascalCase para classes, snake_case para fun√ß√µes
- **Tipagem**: Type hints com MyPy para valida√ß√£o
- **Qualidade**: Flake8, Autopep8 e PEP 8 compliance
- **Temas**: CSS modular com vari√°veis CSS para f√°cil manuten√ß√£o

## üìÑ Licen√ßa

Este projeto est√° sob a licen√ßa MIT. Veja o arquivo `LICENSE` para mais detalhes.

## üõ†Ô∏è Desenvolvimento

### Executar Testes
```bash
# Linting
flake8 .

# Type checking
mypy .

# Auto-formatting
autopep8 --in-place --recursive .
```

### Estrutura de Temas
- `static/styles.css`: Tema claro
- `static/styles-dark.css`: Tema escuro
- `.streamlit/config.toml`: Configura√ß√µes base

## üÜò Suporte

Para quest√µes e suporte:
1. Verifique os logs dos containers: `docker compose logs`
2. Acesse Redis Commander em http://localhost:8081
3. Consulte a documenta√ß√£o da API Django
4. Entre em contato com a equipe de desenvolvimento

---

**UniPOST** - Desenvolvido com ‚ù§Ô∏è para gera√ß√£o inteligente de conte√∫do